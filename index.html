<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>DASS-21 Tracker</title>
  <link rel="stylesheet" href="/static/style.css">
</head>

<body>

  <!-- LOGIN SECTION -->
  <div class="container" id="loginBox">
    <h1>Login</h1>
    <input type="text" id="username" placeholder="Username" required>
    <input type="password" id="password" placeholder="Password" required>
    <button class="btn" onclick="login()">Login</button>
    <p id="error" style="color:red;"></p>
  </div>

  <!-- MAIN CONTENT (HIDDEN UNTIL LOGIN) -->
  <div class="container" id="mainContent" style="display:none;">
    <h1>DASS-21 Mental Health Tracker</h1>
    <p>Answer 21 short questions to calculate Depression, Anxiety & Stress.</p>
    <a class="btn" href="question1.html">Start Assessment</a>
    <br><br>
    <button class="btn" onclick="logout()">Logout</button>
  </div>

  <!-- JAVASCRIPT -->
  <script>
    function login() {
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;

      if (user === "admin" && pass === "1234") {
        localStorage.setItem("loggedIn", "true");
        showMain();
      } else {
        document.getElementById("error").innerText = "Invalid login details";
      }
    }

    function showMain() {
      document.getElementById("loginBox").style.display = "none";
      document.getElementById("mainContent").style.display = "block";
    }

    function logout() {
      localStorage.removeItem("loggedIn");
      location.reload();
    }

    // Auto login check
    if (localStorage.getItem("loggedIn") === "true") {
      showMain();
    }
  </script>

</body>
</html>
